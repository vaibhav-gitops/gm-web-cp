---
const { title, videoId } = Astro.props;
const thumbnailUrl = `https://i.ytimg.com/vi/${videoId}/hqdefault.jpg`;
---

<script src="/youtube-player.js" defer></script>

<div class="video-tile w-full">
    <div
            id={`container-${videoId}`}
            class="video-container aspect-video rounded-xl overflow-hidden bg-black shadow-md relative cursor-pointer"
    >
        <!-- Static thumbnail with play button -->
        <img
                id={`thumb-${videoId}`}
                src={thumbnailUrl}
                alt={`Thumbnail for ${title}`}
                loading="lazy"
                class="absolute top-0 left-0 w-full h-full object-cover"
        />
        <div
                data-yt-overlay
                data-video-id={videoId}
                data-container-id={`container-${videoId}`}
                class="play-button-overlay absolute inset-0 flex items-center justify-center bg-black bg-opacity-10 hover:bg-opacity-20 z-20 transition-colors duration-300"
        >
      <span
              class="play-icon w-12 h-12 rounded-full bg-black bg-opacity-60 flex items-center justify-center relative hover:scale-110 transform transition-transform duration-200"
      >
        <span
                class="block w-0 h-0 ml-[5px] border-t-[10px] border-t-transparent border-b-[10px] border-b-transparent border-l-[16px] border-l-white"
        ></span>
      </span>
        </div>
    </div>

    <div class="mt-3 px-2">
        <h2 class="text-md md:text-lg font-semibold text-center leading-snug">
            {title}
        </h2>
    </div>

</div>
